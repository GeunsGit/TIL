## 스프링 빈 라이프사이클
- 스프링은 의존관계 주입이 완료되면 스프링 빈에게 콜백 메서드를 통해서 초기화 시점을 알려주는 다양한 기능을 제공한다.
- 스프링은 스프링 컨테이너가 종료되기 직전에 소멸 콜백을 준다.


### 빈 생명주기 콜백 지원 방법
  - 인터페이스(InitializingBean, DisposableBean) : 스프링 초창기에 사용되는 방법이었는데, 지금은 사용하지 않는다.
  - 설정 정보에 초기화 메서드, 종료 메서드 지정 : 코드를 고칠 수 없는 외부 라이브러리를 초기화, 종료해야하는 경우 사용 !
  - @PostConstruct, @PreDestroy 애노테이션 지원 : 최신 스프링 권고 사항! 이 방법을 사용할 것!


### 스프링 빈의 이벤트 라이프 사이클

1. **스프링 컨테이너 생성**


2. **스프링 빈 생성**


3. **의존관계 주입**


4. **초기화 콜백**
빈이 생성되고, 빈의 의존관계 주입이 완료된 후에 호출된다.


5. **사용**


6. **소멸전 콜백**
빈이 소멸되기 직전에 호출된다.


7. **스프링 종료**


### @Bean의 초기화, 소멸 메서드

- 설정 정보에 메서드 이름을 자유롭게 초기화와 소멸 메서드를 등록할 수 있다.


- `@Bean(initMethod = "method명", destroyMethod = "method명")` 으로 사용할 수 있다.


- `destroyMethod`는 특별한 기능이 있다.
  - 기본값이 `(inferred)`(추론)으로 되어있기 때문에 `close`, `destroy` 라는 이름의 메서드를 자동으로 호출해준다.
  - 이 추론 기능을 이용하지 않으려면 `destroyMethod = ""`와 같이 공백으로 지정하면 된다.



### @PostConstruct, @PreDestroy

- 초기화와 소멸 메서드에 `@PostConstruct`, `@preDestroy` 애노테이션 적용하기!


- 컴포넌트 스캔과 잘 어울린다.


- 유일한 단점 : 외부 라이브러리에 적용하지 못한다. 외부 라이브러리를 초기화, 종료하려면 `@Bean`의 기능을 사용할 것.


#### References
- https://www.inflearn.com/roadmaps/373